# Context Manifest for file-system-tools
# Auto-generated by canon-check on 2026-01-21
# Version: 0.5.0

feature: file-system-tools
canon_version: 0.5.0
status: stable
confidence: 0.95

# Summary: What this feature does
summary: |
  File system manipulation tools enabling Agent-Q to navigate directories,
  inspect files, search for files, and make targeted edits within project boundaries.
  Implements all 4 phases: core navigation, advanced navigation, editing, and
  file lifecycle with comprehensive security validation. 10 tools, 111 tests.

# Essential context: Always load these for basic understanding
essential:
  - path: "core/foundation/vocabulary.md"
    reason: "Domain terms: Tool (filesystem tools extend tool-system)"
    sections: ["Tool"]
    token_estimate: 200

  - path: "features/file-system-tools/feature.yaml"
    reason: "Feature overview, all 10 tools, phases, test coverage"
    token_estimate: 800

  - path: "features/file-system-tools/contracts/list-directory.md"
    reason: "Core contract: directory navigation (safe tool)"
    token_estimate: 250

  - path: "features/file-system-tools/contracts/edit-file.md"
    reason: "Core contract: str_replace editing (moderate safety)"
    token_estimate: 350

# Per-contract context: Load when working on specific contracts
per_contract:
  list-directory:
    - path: "features/file-system-tools/scenarios/targeted-code-edit.md"
      reason: "Demonstrates file discovery and editing workflow"
      token_estimate: 300

  edit-file:
    - path: "features/file-system-tools/scenarios/targeted-code-edit.md"
      reason: "Primary scenario for str_replace editing"
      token_estimate: 300

  create-file:
    - path: "features/file-system-tools/contracts/create-file.md"
      reason: "File creation with overwrite protection"
      token_estimate: 250

  move-file:
    - path: "features/file-system-tools/contracts/move-file.md"
      reason: "File moving/renaming with buffer sync"
      token_estimate: 250

  delete-file:
    - path: "features/file-system-tools/contracts/delete-file.md"
      reason: "Permanent deletion with safeguards"
      token_estimate: 250

# Reference context: Load for deep work or related areas
reference:
  - path: "features/file-system-tools/properties/path-safety.md"
    reason: "Invariant: all operations bounded by project root"
    token_estimate: 300

  - path: "features/file-system-tools/decisions/0007-emacs-filesystem-delegation.md"
    reason: "ADR explaining Emacs delegation pattern"
    token_estimate: 400

  - path: "features/file-system-tools/decisions/0008-glob-pattern-limits.md"
    reason: "ADR explaining glob pattern simplicity (*, **, ?)"
    token_estimate: 400

  - path: "canon/research/2026-01-20-file-system-tools.research.md"
    reason: "Research document analyzing Claude API, MCP, Aider patterns"
    token_estimate: 800

# Dependencies: Related features to consider
dependencies:
  - feature: tool-system
    reason: "Uses tool-protocol for registration"

  - feature: diff-approval
    reason: "Leverages existing diff UI for dangerous operations"

# Metadata
generated: 2026-01-21T14:26:00Z
total_token_estimate: 4850
