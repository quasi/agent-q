{"ts":"2026-02-04T08:55:23.425+00:00","type":"session.start","session":"s-20260204-085523","canon_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification","cwd":"/Users/quasi/.claude/plugins/cache/quasilabs/canon/0.2.1/mcp_server"}
{"ts":"2026-02-04T08:55:23.426+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T08:55:23.426+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10575}
{"ts":"2026-02-04T08:55:23.426+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T08:55:23.426+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T08:55:23.433+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":6,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T08:55:23.433+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8083}
{"ts":"2026-02-04T08:55:23.433+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T08:55:23.433+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T08:55:23.433+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T08:55:23.442+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":8,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T08:55:23.445+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"pass","duration_ms":3,"reason":"canon.yaml is up-to-date (91 files checked)"}
{"ts":"2026-02-04T08:55:23.445+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":16000}
{"ts":"2026-02-04T08:55:23.445+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T08:55:23.445+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T08:55:23.487+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":41,"reason":"Found 842 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","Emacs","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Emacs","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Emacs","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Emacs","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Emacs","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Emacs","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Phase","Add","Extract","Scroll","Emacs","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Emacs","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable","Phase"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","Claude","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Emacs","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Phase","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","Emacs","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable","Phase"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Emacs","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Emacs","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Emacs","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Introspection","Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","Emacs","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Executor","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Emacs","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Emacs","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Emacs","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Emacs","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":31,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"Emacs","file":"features/file-system-tools/contracts/get-file-info.md","line":138},{"term":"Emacs","file":"features/file-system-tools/contracts/get-file-info.md","line":141},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249}]}}
{"ts":"2026-02-04T08:55:23.495+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":8,"reason":"Vocabulary defines 31 terms (heuristic check passed)"}
{"ts":"2026-02-04T08:55:23.503+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":7,"reason":"No duplicate terms among 31 definitions"}
{"ts":"2026-02-04T08:55:23.503+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T08:55:23.503+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T08:55:23.503+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T08:55:23.509+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":5,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T08:55:23.511+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T08:55:23.512+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T08:55:23.519+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":6,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T08:55:23.519+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T08:55:23.525+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T08:55:23.525+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T08:55:23.526+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T08:55:23.527+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T08:55:23.543+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":15,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T08:55:23.543+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T08:55:23.543+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T08:55:23.544+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T08:55:23.544+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T08:55:23.569+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":24,"reason":"Found 45 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":45,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T08:55:23.591+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":21,"reason":"Found 43 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":43,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T08:55:23.601+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T08:55:23.601+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T08:55:23.601+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T08:55:23.608+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":7,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T08:55:23.609+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":184,"summary":{"total":29,"passed":26,"failed":3,"skipped":0},"failed_clauses":["vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
{"ts":"2026-02-04T08:55:24.064+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T08:55:24.064+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10575}
{"ts":"2026-02-04T08:55:24.065+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T08:55:24.065+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T08:55:24.071+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":6,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T08:55:24.072+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8083}
{"ts":"2026-02-04T08:55:24.072+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T08:55:24.072+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T08:55:24.072+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T08:55:24.078+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":6,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T08:55:24.082+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"pass","duration_ms":3,"reason":"canon.yaml is up-to-date (91 files checked)"}
{"ts":"2026-02-04T08:55:24.082+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":16000}
{"ts":"2026-02-04T08:55:24.082+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T08:55:24.082+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T08:55:24.105+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":22,"reason":"Found 842 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","Emacs","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Emacs","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Emacs","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Emacs","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Emacs","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Emacs","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Phase","Add","Extract","Scroll","Emacs","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Emacs","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable","Phase"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","Claude","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Emacs","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Phase","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","Emacs","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable","Phase"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Emacs","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Emacs","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Emacs","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Introspection","Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","Emacs","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Executor","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Emacs","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Emacs","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Emacs","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Emacs","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":31,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"Emacs","file":"features/file-system-tools/contracts/get-file-info.md","line":138},{"term":"Emacs","file":"features/file-system-tools/contracts/get-file-info.md","line":141},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249}]}}
{"ts":"2026-02-04T08:55:24.113+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":8,"reason":"Vocabulary defines 31 terms (heuristic check passed)"}
{"ts":"2026-02-04T08:55:24.120+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":7,"reason":"No duplicate terms among 31 definitions"}
{"ts":"2026-02-04T08:55:24.120+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T08:55:24.120+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T08:55:24.120+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T08:55:24.123+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":2,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T08:55:24.125+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T08:55:24.125+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T08:55:24.132+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":6,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T08:55:24.132+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T08:55:24.139+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T08:55:24.139+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T08:55:24.140+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T08:55:24.141+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T08:55:24.157+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":15,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T08:55:24.157+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T08:55:24.157+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T08:55:24.157+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T08:55:24.157+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T08:55:24.181+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":24,"reason":"Found 45 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":45,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T08:55:24.206+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":24,"reason":"Found 43 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":43,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T08:55:24.206+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T08:55:24.206+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T08:55:24.206+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T08:55:24.214+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":8,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T08:55:24.214+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":150,"summary":{"total":29,"passed":26,"failed":3,"skipped":0},"failed_clauses":["vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
{"ts":"2026-02-04T08:56:03.038+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T08:56:03.038+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10575}
{"ts":"2026-02-04T08:56:03.038+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T08:56:03.038+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T08:56:03.044+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":6,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T08:56:03.044+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8083}
{"ts":"2026-02-04T08:56:03.044+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T08:56:03.044+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T08:56:03.044+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T08:56:03.051+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":6,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T08:56:03.054+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"pass","duration_ms":3,"reason":"canon.yaml is up-to-date (91 files checked)"}
{"ts":"2026-02-04T08:56:03.054+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":16000}
{"ts":"2026-02-04T08:56:03.055+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T08:56:03.055+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T08:56:03.078+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":22,"reason":"Found 842 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","Emacs","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Emacs","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Emacs","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Emacs","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Emacs","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Emacs","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Phase","Add","Extract","Scroll","Emacs","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Emacs","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable","Phase"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","Claude","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Emacs","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Phase","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","Emacs","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable","Phase"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Emacs","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Emacs","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Emacs","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Introspection","Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","Emacs","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Executor","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Emacs","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Emacs","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Emacs","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Emacs","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":31,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"Emacs","file":"features/file-system-tools/contracts/get-file-info.md","line":138},{"term":"Emacs","file":"features/file-system-tools/contracts/get-file-info.md","line":141},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249}]}}
{"ts":"2026-02-04T08:56:03.086+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":8,"reason":"Vocabulary defines 31 terms (heuristic check passed)"}
{"ts":"2026-02-04T08:56:03.094+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":7,"reason":"No duplicate terms among 31 definitions"}
{"ts":"2026-02-04T08:56:03.094+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T08:56:03.094+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T08:56:03.094+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T08:56:03.096+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":2,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T08:56:03.099+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T08:56:03.099+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T08:56:03.105+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":6,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T08:56:03.105+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T08:56:03.113+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T08:56:03.113+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T08:56:03.114+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T08:56:03.114+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T08:56:03.130+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":15,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T08:56:03.130+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T08:56:03.130+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T08:56:03.130+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T08:56:03.130+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T08:56:03.154+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":23,"reason":"Found 45 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":45,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T08:56:03.176+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":22,"reason":"Found 43 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":43,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T08:56:03.177+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T08:56:03.177+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T08:56:03.177+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T08:56:03.184+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":7,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T08:56:03.184+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":146,"summary":{"total":29,"passed":26,"failed":3,"skipped":0},"failed_clauses":["vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
{"ts":"2026-02-04T09:03:13.320+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T09:03:13.321+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10575}
{"ts":"2026-02-04T09:03:13.321+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T09:03:13.321+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T09:03:13.331+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":9,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T09:03:13.331+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8083}
{"ts":"2026-02-04T09:03:13.331+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T09:03:13.331+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T09:03:13.331+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T09:03:13.340+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":8,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T09:03:13.345+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"fail","duration_ms":4,"reason":"15 file(s) modified after canon.yaml","repair_hint":"Run 'canon regenerate' or touch canon.yaml to update timestamp","details":{"stale_files":[{"path":"features/file-system-tools/decisions/0007-emacs-filesystem-delegation.md","delta_seconds":132528},{"path":"features/diff-approval/scenarios/verification-mismatch.md","delta_seconds":132558},{"path":"features/tool-system/properties/safety-enforcement.md","delta_seconds":132509},{"path":"features/tool-system/properties/error-recovery.md","delta_seconds":132526},{"path":"features/tool-system/scenarios/tool-error-retry.md","delta_seconds":132531},{"path":"features/context-completion/contracts/pill-protocol.md","delta_seconds":132518},{"path":"features/context-management/properties/markdown-formatting.md","delta_seconds":132551},{"path":"features/context-management/properties/sliding-window.md","delta_seconds":132553},{"path":"features/context-management/scenarios/format-for-llm.md","delta_seconds":132552},{"path":"features/session-management/contracts/session-persistence.md","delta_seconds":132565}],"total_stale":15}}
{"ts":"2026-02-04T09:03:13.345+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":20911}
{"ts":"2026-02-04T09:03:13.345+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T09:03:13.345+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T09:03:13.373+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":28,"reason":"Found 799 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Add","Extract","Scroll","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","All","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":48,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":250},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":251}]}}
{"ts":"2026-02-04T09:03:13.386+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":12,"reason":"Vocabulary defines 48 terms (heuristic check passed)"}
{"ts":"2026-02-04T09:03:13.396+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":10,"reason":"No duplicate terms among 48 definitions"}
{"ts":"2026-02-04T09:03:13.397+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T09:03:13.397+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T09:03:13.397+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T09:03:13.400+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":3,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T09:03:13.402+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T09:03:13.402+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T09:03:13.409+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":6,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T09:03:13.409+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T09:03:13.416+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T09:03:13.416+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T09:03:13.417+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T09:03:13.418+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T09:03:13.436+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":18,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T09:03:13.436+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T09:03:13.436+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T09:03:13.436+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T09:03:13.436+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T09:03:13.460+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":23,"reason":"Found 43 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":43,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T09:03:13.482+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":21,"reason":"Found 42 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":42,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T09:03:13.482+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T09:03:13.482+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T09:03:13.482+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T09:03:13.491+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":8,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T09:03:13.491+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":170,"summary":{"total":29,"passed":25,"failed":4,"skipped":0},"failed_clauses":["context.manifests_fresh","vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
{"ts":"2026-02-04T09:03:30.093+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T09:03:30.093+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10575}
{"ts":"2026-02-04T09:03:30.093+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T09:03:30.093+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T09:03:30.100+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":6,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T09:03:30.100+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8083}
{"ts":"2026-02-04T09:03:30.100+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T09:03:30.100+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T09:03:30.100+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T09:03:30.107+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":6,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T09:03:30.110+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"pass","duration_ms":3,"reason":"canon.yaml is up-to-date (91 files checked)"}
{"ts":"2026-02-04T09:03:30.110+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":20911}
{"ts":"2026-02-04T09:03:30.110+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T09:03:30.110+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T09:03:30.135+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":25,"reason":"Found 799 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Add","Extract","Scroll","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","All","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":48,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":250},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":251}]}}
{"ts":"2026-02-04T09:03:30.147+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":11,"reason":"Vocabulary defines 48 terms (heuristic check passed)"}
{"ts":"2026-02-04T09:03:30.158+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":11,"reason":"No duplicate terms among 48 definitions"}
{"ts":"2026-02-04T09:03:30.159+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T09:03:30.159+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T09:03:30.159+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T09:03:30.161+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":2,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T09:03:30.163+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T09:03:30.164+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T09:03:30.171+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":7,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T09:03:30.171+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T09:03:30.178+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T09:03:30.178+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T09:03:30.179+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T09:03:30.180+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T09:03:30.200+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":19,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T09:03:30.200+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T09:03:30.200+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T09:03:30.200+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T09:03:30.200+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T09:03:30.223+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":23,"reason":"Found 43 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":43,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T09:03:30.247+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":23,"reason":"Found 42 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":42,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T09:03:30.247+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T09:03:30.247+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T09:03:30.247+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T09:03:30.254+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":7,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T09:03:30.254+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":161,"summary":{"total":29,"passed":26,"failed":3,"skipped":0},"failed_clauses":["vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
{"ts":"2026-02-04T09:03:36.670+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T09:03:36.670+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10575}
{"ts":"2026-02-04T09:03:36.670+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T09:03:36.670+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T09:03:36.677+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":6,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T09:03:36.677+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8083}
{"ts":"2026-02-04T09:03:36.677+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T09:03:36.677+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T09:03:36.677+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T09:03:36.684+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":6,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T09:03:36.687+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"pass","duration_ms":3,"reason":"canon.yaml is up-to-date (91 files checked)"}
{"ts":"2026-02-04T09:03:36.687+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":20911}
{"ts":"2026-02-04T09:03:36.687+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T09:03:36.687+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T09:03:36.714+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":26,"reason":"Found 799 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Add","Extract","Scroll","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","All","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":48,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":250},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":251}]}}
{"ts":"2026-02-04T09:03:36.726+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":11,"reason":"Vocabulary defines 48 terms (heuristic check passed)"}
{"ts":"2026-02-04T09:03:36.737+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":11,"reason":"No duplicate terms among 48 definitions"}
{"ts":"2026-02-04T09:03:36.737+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T09:03:36.737+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T09:03:36.737+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T09:03:36.740+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":2,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T09:03:36.742+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T09:03:36.742+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T09:03:36.749+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":6,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T09:03:36.749+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T09:03:36.756+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T09:03:36.756+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T09:03:36.757+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T09:03:36.758+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T09:03:36.777+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":19,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T09:03:36.778+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T09:03:36.778+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T09:03:36.778+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T09:03:36.778+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T09:03:36.801+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":23,"reason":"Found 43 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":43,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T09:03:36.824+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":22,"reason":"Found 42 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":42,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T09:03:36.824+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T09:03:36.824+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T09:03:36.824+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T09:03:36.842+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":17,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T09:03:36.842+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":171,"summary":{"total":29,"passed":26,"failed":3,"skipped":0},"failed_clauses":["vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
{"ts":"2026-02-04T09:20:19.528+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T09:20:19.528+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10575}
{"ts":"2026-02-04T09:20:19.528+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T09:20:19.528+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T09:20:19.534+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":6,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T09:20:19.535+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8083}
{"ts":"2026-02-04T09:20:19.535+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T09:20:19.535+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T09:20:19.535+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T09:20:19.541+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":6,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T09:20:19.545+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"pass","duration_ms":3,"reason":"canon.yaml is up-to-date (91 files checked)"}
{"ts":"2026-02-04T09:20:19.545+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":20911}
{"ts":"2026-02-04T09:20:19.545+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T09:20:19.545+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T09:20:19.571+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":25,"reason":"Found 799 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Add","Extract","Scroll","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","All","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":48,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":250},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":251}]}}
{"ts":"2026-02-04T09:20:19.582+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":11,"reason":"Vocabulary defines 48 terms (heuristic check passed)"}
{"ts":"2026-02-04T09:20:19.592+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":10,"reason":"No duplicate terms among 48 definitions"}
{"ts":"2026-02-04T09:20:19.593+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T09:20:19.593+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T09:20:19.593+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T09:20:19.595+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":2,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T09:20:19.597+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T09:20:19.597+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T09:20:19.604+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":6,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T09:20:19.604+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T09:20:19.610+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T09:20:19.610+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T09:20:19.611+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T09:20:19.612+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T09:20:19.631+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":18,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T09:20:19.631+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T09:20:19.631+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T09:20:19.631+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T09:20:19.631+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T09:20:19.654+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":22,"reason":"Found 43 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":43,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T09:20:19.676+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":22,"reason":"Found 42 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":42,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T09:20:19.676+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T09:20:19.676+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T09:20:19.676+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T09:20:19.684+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":7,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T09:20:19.684+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":156,"summary":{"total":29,"passed":26,"failed":3,"skipped":0},"failed_clauses":["vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
{"ts":"2026-02-04T09:22:44.946+00:00","type":"ccc.start","session":"s-20260204-085523","canon_path_str":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification"}
{"ts":"2026-02-04T09:22:44.946+00:00","type":"file.read","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","exists":true,"bytes":10577}
{"ts":"2026-02-04T09:22:44.947+00:00","type":"file.expected","session":"s-20260204-085523","path":"canon.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml","reason":"CCC clause context.manifest_exists","source":"ccc.clause.context.manifest_exists"}
{"ts":"2026-02-04T09:22:44.947+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_exists","category":"context","status":"pass","duration_ms":0,"reason":"canon.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/canon.yaml"}}
{"ts":"2026-02-04T09:22:44.953+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifest_valid","category":"context","status":"pass","duration_ms":6,"reason":"canon.yaml has valid structure"}
{"ts":"2026-02-04T09:22:44.953+00:00","type":"file.read","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","exists":true,"bytes":8091}
{"ts":"2026-02-04T09:22:44.953+00:00","type":"file.expected","session":"s-20260204-085523","path":"README-CANON.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/README-CANON.md","reason":"CCC clause context.readme_exists","source":"ccc.clause.context.readme_exists"}
{"ts":"2026-02-04T09:22:44.953+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.readme_exists","category":"context","status":"pass","duration_ms":0,"reason":"README-CANON.md exists"}
{"ts":"2026-02-04T09:22:44.953+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.structure_valid","category":"context","status":"pass","duration_ms":0,"reason":"Required directory structure exists"}
{"ts":"2026-02-04T09:22:44.959+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.schema_version_valid","category":"context","status":"pass","duration_ms":6,"reason":"Canon schema 0.2.0 can be migrated to 0.3.0","details":{"canon_version":"0.2.0","toolkit_version":"0.3.0","needs_migration":true}}
{"ts":"2026-02-04T09:22:44.962+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"context.manifests_fresh","category":"context","status":"pass","duration_ms":2,"reason":"canon.yaml is up-to-date (91 files checked)"}
{"ts":"2026-02-04T09:22:44.963+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","exists":true,"bytes":20911}
{"ts":"2026-02-04T09:22:44.963+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/vocabulary.md","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md","reason":"CCC clause vocab.file_exists","source":"ccc.clause.vocab.file_exists"}
{"ts":"2026-02-04T09:22:44.963+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.file_exists","category":"vocab","status":"pass","duration_ms":0,"reason":"Core vocabulary file exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/vocabulary.md"}}
{"ts":"2026-02-04T09:22:44.999+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.all_terms_defined","category":"vocab","status":"fail","duration_ms":36,"reason":"Found 799 undefined term reference(s)","repair_hint":"Add missing terms to vocabulary.md or use defined terms","details":{"by_file":{"features/file-system-tools/contracts/get-file-info.md":["Stable","Action","File","Use","List","Understand","Passing"],"features/file-system-tools/contracts/create-file.md":["Stable","Action","Check","Use","Edit","Refine","Create","Make","Add","Targeted","Rename","Remove","Passing"],"features/file-system-tools/contracts/move-file.md":["Stable","Action","Check","Both","Use","Edit","Test","Reorganize","Update","Create","Remove","Modify","Passing"],"features/file-system-tools/contracts/edit-file.md":["Stable","Action","Count","Read","Match","Replace","Write","Full","Insert","Check","Passing"],"features/file-system-tools/contracts/list-directory.md":["Stable","Unicode","Recursive","Detailed","Find","Passing"],"features/file-system-tools/contracts/project-root.md":["Stable","Lisp","Uses","All","Passing"],"features/file-system-tools/contracts/delete-file.md":["Stable","Action","Check","The","Deleting","Use","Verify","Delete","Non","Creating","Passing"],"features/chat-interface/contracts/dual-region-layout.md":["Add","Extract","Scroll","Tested"],"features/diff-approval/contracts/propose-file-edit.md":["This","Lisp","Diff","*Agent-Q Diff*","Navigate","Accept","Reject","Toggle","SPC","Preview","RET","C-c C-c","C-c C-k","Finish","Instruction","User","Continues","Stops","The","STOP","Decision","Reports","If","Modified","Yes","No","Changes","File","Failed","Unbounded","General","Pass","Once","Use","By","Other","Acceptable","Include","Stable"],"features/tool-system/contracts/tool-protocol.md":["Stable","Lisp","Approval","Text","True","Numeric","Nested","List","Hash","Any","Direct","Pretty","Formatted","Result","describeSymbol","readFile","Python","Get","Describes","Specific","Vague","Prevents","Symbol","Original","Cautious","When"],"features/tool-system/contracts/tool-registry.md":["Stable","Lisp","Add","Retrieve","Get","List","Convert","Load","Number","Execute","Required","Registry","Implementation","How"],"features/tool-system/contracts/tool-execution.md":["Stable","List","Execute","Cancel","Before","After","On","Add","Execution"],"features/context-completion/contracts/pill-protocol.md":["Pill","Pills","Properties","Cannot","File","\"Cannot attach context: file not found\"","Context","Duplicate","\"Context already attached\"","Invalid","Name","\"Invalid context name\"","Tested"],"features/context-management/contracts/context-manager.md":["Clearing","Context","## Context\\n\\n","Code","### Code","Automatic","Append","Explicit","Convention","Could","Limit","Monitor","Pass","Implicit","Individual","Conversations","Keep","Use","Clear","Add","Sessions","Addressed","Lisp","Works","Stable"],"features/context-management/contracts/context-item.md":["Use","Case","No","ctx-N","Lisp","Monotonic","Pass","Manages","Conversations","Document","Consider","Code","Stable"],"features/session-management/contracts/session-persistence.md":["Name","Current","Only","FILE-ERROR","SERIALIZATION-ERROR","DESERIALIZATION-ERROR","SESSION-NOT-FOUND","VERSION-MISMATCH","DISK-FULL","PERMISSION-DENIED","Messages","*Messages*","All","Fully"],"features/session-management/contracts/session-storage.md":["session-YYYYMMDD-HHMMSS-XXXX","YYYYMMDD","HHMMSS","XXXX","session-20260120-143022-A4F2","Every","Metadata","Cached","INVALID-SESSION-ID","SESSION-EXISTS","MISSING-CONVERSATION","INVALID-TIMESTAMP","METADATA-OVERFLOW","Implemented"],"features/session-management/contracts/session-serialization.md":["Elisp","(HIGH LOW USEC PSEC)","Common","Lisp","Handles","Oldest","Newest","Symbols","HIGH * 65536 + LOW","Unix","Keywords","Always","All","Messages","UNSUPPORTED-VERSION","MALFORMED-PLIST","Universal","Time","TIMESTAMP-CONVERSION-ERROR","SYMBOL-ROLE-ERROR","MESSAGE-ORDER-ERROR","ENCODING-ERROR","Implemented"],"features/file-system-tools/scenarios/relocate-file.md":["As","Planned","Specified"],"features/file-system-tools/scenarios/find-project-root.md":["As","Verified"],"features/file-system-tools/scenarios/inspect-file-metadata.md":["As","Verified","Pass"],"features/file-system-tools/scenarios/list-project-files.md":["As","Verified"],"features/file-system-tools/scenarios/remove-obsolete-file.md":["As","Planned","Delete","Reason","Confirms","Specified"],"features/file-system-tools/scenarios/targeted-code-edit.md":["Draft","Lisp","Users","The","[a-zA-Z0-9._-]","Diff","*Agent-Q Diff*"],"features/file-system-tools/scenarios/create-new-file.md":["As","Planned","Specified"],"features/chat-interface/scenarios/user-sends-message.md":["Complete","What","C-c RET","RET","Streams","Shows","Core"],"features/diff-approval/scenarios/accept-all-hunks.md":["User","All","Common"],"features/diff-approval/scenarios/verification-mismatch.md":["Original","Diff","No","Known"],"features/diff-approval/scenarios/toggle-hunk-states.md":["User","SPC","File","Depends","Applied","Edge"],"features/diff-approval/scenarios/propose-edit.md":["Complete","Add","Core"],"features/diff-approval/scenarios/reject-all-hunks.md":["User","Unchanged","Pressing","Tested"],"features/diff-approval/scenarios/accept-selective-hunks.md":["User","Hunks","Common"],"features/tool-system/scenarios/safe-tool-execution.md":["Safe","Manual","Lisp","What","No","Result","User","Get","Find","Execution","Verified"],"features/tool-system/scenarios/dangerous-tool-approval.md":["File","Modification","Dangerous","Manual","Create","User","No","Dominated","Approval","Safety","Special","Verified"],"features/tool-system/scenarios/tool-error-retry.md":["Recovery","Manual","What","Initial","User","No","Type","Strategy","Robust","Graceful","Extra","May","Successful","Verified"],"features/tool-system/scenarios/discover-available-tools.md":["As","Integration","Verified"],"features/tool-system/scenarios/call-tool-with-parameters.md":["As","Integration","Lisp","Verified"],"features/context-completion/scenarios/user-attaches-file.md":["Complete","After","Files","File","Explain","C-c RET","Core"],"features/context-management/scenarios/add-context-item.md":["As","Lisp","User","M-x agent-q-add-context","Content","Entire","Pass","Verified"],"features/context-management/scenarios/clear-context.md":["As","M-x agent-q-clear-context","Prompts","Clear","Replaces","Context","User","Manager","Loss","Lisp","Elisp","Pass","Switching","Prevent","Accumulated","Faster","About","Remove","Testing","Ensure","Clearing","Accidental","Confirmation","Accepted","Cannot","Must","Add","Verified","Explicit"],"features/context-management/scenarios/get-filtered-context.md":["As","Implicit","Returns","Takes","No","All","Show","Exclude","Analyze","Creates","Result","Not","Cannot","Accepted","(subseq (get-context manager) 0 N)","Acceptable","Always","Adds","Could","Verified"],"features/context-management/scenarios/context-types.md":["As","Source","Treatable","Diagnostic","Plain","Descriptive","Entire","C-c C-q f","Complete","Previous","Interactive","Extension","Undocumented","Unknown","User","Item","TYPE-ERROR","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","The","Pass","Everything","Appropriate","Users","Documentation","Cannot","Use","Must","Add","Verified","All"],"features/context-management/scenarios/format-for-llm.md":["As","Implicit","Include","Item","Type","Heading","Code","### Code","### Error","Text","### Text","File","### File","Repl","History","### Repl-History","Custom","### Custom","Manager","Valid","Content","What","The","Why","Output","Context","End","Format","Not","Always","Lisp","Map","Known","Doesn","May","Use","Cannot","One","Acceptable","Verified"],"features/context-management/scenarios/sliding-window-overflow.md":["As","Implicit","First","In","Out","Manager","Add","Each","Only","Not","No","User","May","Users","Evicts","Accepted","Eviction","Adds","Acceptable","Verified"],"features/session-management/scenarios/save-and-restore-session.md":["As","Integration","Select","Bug","M-x agent-q-switch-session","Elisp","Universal","Time","Common","Lisp","Keywords","Verified"],"features/session-management/scenarios/session-search.md":["Search","C-c C-f","M-x agent-q-search-sessions","User","Search sessions:","Name","Debug","Feature","session-20260120-143022-A4F2","session-20260115-100000-D5E6","The","Testing","session-20260118-091500-G7H8","Slower","Authorization","System","Auth","Successfully","Content","Searches","All","Matches","Plain","Negligible","\"API\"","Sessions","NullPointerException","\"NullPointerException\"","Linear","Slow","Could","Can","Use","Exact","Typos","Check","Implemented"],"features/session-management/scenarios/switch-between-sessions.md":["Multi","C-c C-s","M-x agent-q-switch-session","Scans","Debug","Feature","If","Read","User","Load","Save","Harmless","Cache","Debugging","Exploring","All","Tested"],"features/session-management/scenarios/create-and-save-session.md":["Complete","Lisp","C-c C-n","M-x agent-q-new-session","session-20260120-143022-A4F2","C-c C-r","M-x agent-q-name-session","User","Debug","Feature","Session name:","Explain","C-c RET","C-x k","Tested"]},"vocabulary_size":48,"sample":[{"term":"Stable","file":"features/file-system-tools/contracts/get-file-info.md","line":5},{"term":"Action","file":"features/file-system-tools/contracts/get-file-info.md","line":70},{"term":"File","file":"features/file-system-tools/contracts/get-file-info.md","line":194},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":233},{"term":"List","file":"features/file-system-tools/contracts/get-file-info.md","line":239},{"term":"Use","file":"features/file-system-tools/contracts/get-file-info.md","line":240},{"term":"Understand","file":"features/file-system-tools/contracts/get-file-info.md","line":241},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":249},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":250},{"term":"Passing","file":"features/file-system-tools/contracts/get-file-info.md","line":251}]}}
{"ts":"2026-02-04T09:22:45.011+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_undefined_refs","category":"vocab","status":"pass","duration_ms":11,"reason":"Vocabulary defines 48 terms (heuristic check passed)"}
{"ts":"2026-02-04T09:22:45.021+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"vocab.no_duplicates","category":"vocab","status":"pass","duration_ms":10,"reason":"No duplicate terms among 48 definitions"}
{"ts":"2026-02-04T09:22:45.022+00:00","type":"file.read","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","exists":true,"bytes":3157}
{"ts":"2026-02-04T09:22:45.022+00:00","type":"file.expected","session":"s-20260204-085523","path":"core/foundation/governance.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml","reason":"CCC clause governance.file_exists","source":"ccc.clause.governance.file_exists"}
{"ts":"2026-02-04T09:22:45.022+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.file_exists","category":"governance","status":"pass","duration_ms":0,"reason":"governance.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/core/foundation/governance.yaml"}}
{"ts":"2026-02-04T09:22:45.025+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.valid","category":"governance","status":"pass","duration_ms":2,"reason":"governance.yaml is valid"}
{"ts":"2026-02-04T09:22:45.027+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"governance.principles_defined","category":"governance","status":"pass","duration_ms":2,"reason":"6 principle(s) defined","details":{"count":6}}
{"ts":"2026-02-04T09:22:45.027+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.terminology","category":"consistency","status":"pass","duration_ms":0,"reason":"Terminology is consistent across artifacts"}
{"ts":"2026-02-04T09:22:45.034+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.traceability","category":"consistency","status":"pass","duration_ms":6,"reason":"All 30 scenario(s) have valid contract references"}
{"ts":"2026-02-04T09:22:45.034+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"consistency.coverage","category":"consistency","status":"pass","duration_ms":0,"reason":"All 18 contract(s) have scenario coverage"}
{"ts":"2026-02-04T09:22:45.041+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_contracts","category":"feature","status":"pass","duration_ms":0,"reason":"All features have contracts"}
{"ts":"2026-02-04T09:22:45.041+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"feature.has_scenarios","category":"feature","status":"pass","duration_ms":0,"reason":"All features have scenarios"}
{"ts":"2026-02-04T09:22:45.042+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_schema","category":"contract","status":"pass","duration_ms":0,"reason":"All 18 contracts have schema definitions"}
{"ts":"2026-02-04T09:22:45.043+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.has_errors","category":"contract","status":"pass","duration_ms":1,"reason":"All 18 contracts have error documentation"}
{"ts":"2026-02-04T09:22:45.063+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"contract.refs_resolve","category":"contract","status":"pass","duration_ms":19,"reason":"All references in 18 contract(s) resolve"}
{"ts":"2026-02-04T09:22:45.063+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_in_progress","category":"state","status":"pass","duration_ms":0,"reason":"No active workflow checkpoints"}
{"ts":"2026-02-04T09:22:45.063+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"state.no_blocking_obs","category":"state","status":"pass","duration_ms":0,"reason":"No observations.yaml found (not using canon-initiate workflow)"}
{"ts":"2026-02-04T09:22:45.063+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.isolated","category":"changes","status":"pass","duration_ms":0,"reason":"No changes directory (baseline only)"}
{"ts":"2026-02-04T09:22:45.063+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"changes.valid_metadata","category":"changes","status":"pass","duration_ms":0,"reason":"All 0 change(s) have valid metadata"}
{"ts":"2026-02-04T09:22:45.087+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.no_vague_terms","category":"ambiguity","status":"fail","duration_ms":23,"reason":"Found 43 vague term(s) in specifications","repair_hint":"Replace vague terms with measurable criteria","details":{"vague_terms":[{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/get-file-info.md","term":"stable","line":258,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/create-file.md","term":"stable","line":317,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":5,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":12,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"simple","line":72,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/move-file.md","term":"stable","line":297,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"stable","line":13,"suggestion":"Replace with measurable criteria"},{"file":"features/file-system-tools/contracts/edit-file.md","term":"complex","line":333,"suggestion":"Replace with measurable criteria"}],"total_count":43,"files_checked":["features/file-system-tools/contracts/get-file-info.md","features/file-system-tools/contracts/create-file.md","features/file-system-tools/contracts/move-file.md","features/file-system-tools/contracts/edit-file.md","features/file-system-tools/contracts/list-directory.md","features/file-system-tools/contracts/project-root.md","features/file-system-tools/contracts/delete-file.md","features/chat-interface/contracts/dual-region-layout.md","features/diff-approval/contracts/propose-file-edit.md","features/tool-system/contracts/tool-protocol.md","features/tool-system/contracts/tool-registry.md","features/tool-system/contracts/tool-execution.md","features/context-completion/contracts/pill-protocol.md","features/context-management/contracts/context-manager.md","features/context-management/contracts/context-item.md","features/session-management/contracts/session-persistence.md","features/session-management/contracts/session-storage.md","features/session-management/contracts/session-serialization.md"]}}
{"ts":"2026-02-04T09:22:45.110+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"ambiguity.metrics_defined","category":"ambiguity","status":"fail","duration_ms":22,"reason":"Found 42 NFR statement(s) without metrics","repair_hint":"Add quantifiable metrics to NFR statements (e.g., '< 200ms', '99.9% uptime')","details":{"missing_metrics":[{"file":"features/file-system-tools/contracts/project-root.md","statement":"Define the project root boundary that constrains all file system operations. This is a **security-cr","line":12,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":"\"description\": \"Configuration for project root boundary (security-critical)\",","line":49,"category":"security"},{"file":"features/file-system-tools/contracts/project-root.md","statement":";; Security check: must start with root","line":132,"category":"security"},{"file":"features/chat-interface/contracts/dual-region-layout.md","statement":"| Error | Cause | Recovery |","line":101,"category":"data"},{"file":"features/diff-approval/contracts/propose-file-edit.md","statement":"**Recovery:** User manually resolves or rejects all hunks \u2192 \"rejected\"","line":354,"category":"data"},{"file":"features/tool-system/contracts/tool-registry.md","statement":"**Purpose:** Load all tool modules and register their tools.","line":214,"category":"scalability"},{"file":"features/tool-system/contracts/tool-execution.md","statement":"5. **Error Recovery**: Errors MUST NOT propagate beyond executor (always caught)","line":339,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Error | Cause | Recovery |","line":134,"category":"data"},{"file":"features/context-completion/contracts/pill-protocol.md","statement":"| Context load failure | Referenced file/symbol no longer exists | Display warning; allow user to re","line":139,"category":"scalability"},{"file":"features/context-management/contracts/context-manager.md","statement":"A `context-manager` manages a sliding window collection of context items. It implements a FIFO queue","line":20,"category":"scalability"}],"total_count":42,"categories":["data","security","scalability"]}}
{"ts":"2026-02-04T09:22:45.110+00:00","type":"file.read","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","exists":true,"bytes":4065}
{"ts":"2026-02-04T09:22:45.110+00:00","type":"file.expected","session":"s-20260204-085523","path":"verification/verification-strategy.yaml","abs_path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml","reason":"CCC clause verification.strategy_exists","source":"ccc.clause.verification.strategy_exists"}
{"ts":"2026-02-04T09:22:45.110+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_exists","category":"verification","status":"pass","duration_ms":0,"reason":"verification-strategy.yaml exists","details":{"path":"/Users/quasi/quasilabs/projects/agent-q/canonical-specification/verification/verification-strategy.yaml"}}
{"ts":"2026-02-04T09:22:45.118+00:00","type":"ccc.clause","session":"s-20260204-085523","clause":"verification.strategy_valid","category":"verification","status":"pass","duration_ms":7,"reason":"verification-strategy.yaml is valid","details":{"required_levels":["smoke","integration"],"forbidden_mocks":["http_stack","database","auth"],"confidence_threshold":70}}
{"ts":"2026-02-04T09:22:45.118+00:00","type":"ccc.end","session":"s-20260204-085523","passed":false,"duration_ms":171,"summary":{"total":29,"passed":26,"failed":3,"skipped":0},"failed_clauses":["vocab.all_terms_defined","ambiguity.no_vague_terms","ambiguity.metrics_defined"]}
