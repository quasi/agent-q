# Context Manifest for context-completion
# Auto-generated by canon-check on 2026-01-21
# Version: 0.5.0

feature: context-completion
canon_version: 0.5.0
status: complete
confidence: 0.95

# Summary: What this feature does
summary: |
  @-mention system for attaching context (files, symbols, buffers) to chat messages.
  Provides inline completion-at-point, visual pills for selected items, sidebar panel
  for managing context, and automatic LLM integration with 50KB size limits.
  Most comprehensively tested feature in Agent-Q (99 tests, 60% of test suite).

# Essential context: Always load these for basic understanding
essential:
  - path: "core/foundation/vocabulary.md"
    reason: "Domain terms: Context Item, Message"
    sections: ["Context Item", "Message"]
    token_estimate: 300

  - path: "features/context-completion/feature.yaml"
    reason: "Feature overview, test coverage (99 tests), architecture"
    token_estimate: 900

  - path: "features/context-completion/contracts/pill-protocol.md"
    reason: "Core contract: pill creation, display, interaction"
    token_estimate: 400

# Per-contract context: Load when working on specific contracts
per_contract:
  pill-protocol:
    - path: "features/context-completion/scenarios/user-attaches-file.md"
      reason: "Primary scenario demonstrating pill creation and usage"
      token_estimate: 300

# Reference context: Load for deep work or related areas
reference:
  - path: "features/context-completion/properties/50kb-limit.md"
    reason: "Invariant: context items limited to 50KB to prevent overflow"
    token_estimate: 200

  - path: "core/decisions/0005-phased-chat-development.md"
    reason: "ADR explaining context as Chat Phase 4"
    token_estimate: 600

# Dependencies: Related features to consider
dependencies:
  - feature: chat-interface
    reason: "Pills displayed in input region"

  - feature: context-management
    reason: "CL-side context storage"

  - feature: conversation
    reason: "Context attached to messages"

# Metadata
generated: 2026-01-21T14:22:00Z
total_token_estimate: 2700
