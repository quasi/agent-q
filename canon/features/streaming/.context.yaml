# Context Manifest for streaming
# Generated by canon-specify on 2026-01-21
# Version: 0.5.0

feature: streaming
canon_version: 0.5.0
status: complete
confidence: 0.75

# Summary: What this feature does
summary: |
  Real-time token-by-token LLM response display via streaming callbacks.
  Integrates with cl-llm-provider's streaming API to send response chunks
  to Emacs as they arrive, enabling live updates in the chat interface.
  Provides three callback factories (chunk, complete, error) that bridge
  cl-llm-provider streaming events to Emacs Lisp functions via eval-in-emacs.

# Essential context: Always load these for basic understanding
essential:
  - path: "features/streaming/feature.yaml"
    reason: "Feature overview, callback architecture, integration flow"
    token_estimate: 700

  - path: "src/streaming.lisp"
    reason: "Implementation of all 3 callback factories"
    token_estimate: 350

# Per-contract context: Load when working on specific contracts
per_contract:
  streaming-chunk-callback:
    - path: "src/streaming.lisp"
      reason: "Implementation of make-emacs-streaming-callback"
      sections: ["make-emacs-streaming-callback"]
      token_estimate: 200

  streaming-complete-callback:
    - path: "src/streaming.lisp"
      reason: "Implementation of make-emacs-complete-callback"
      sections: ["make-emacs-complete-callback"]
      token_estimate: 250

  streaming-error-callback:
    - path: "src/streaming.lisp"
      reason: "Implementation of make-emacs-error-callback"
      sections: ["make-emacs-error-callback"]
      token_estimate: 150

# Reference context: Load for deep work or related areas
reference:
  - path: "specs/plans/2026-01-13-streaming-observability-upgrade.md"
    reason: "Implementation plan for streaming integration"
    sections: ["Task 1: Add Streaming Support"]
    token_estimate: 800

  - path: "core/decisions/0002-streaming-tool-fallback.md"
    reason: "ADR explaining graceful degradation on streaming errors"
    token_estimate: 600

# Dependencies: Related features to consider
dependencies:
  - feature: chat-interface
    reason: "Emacs side implements streaming display functions"

# Metadata
generated: 2026-01-21T23:11:00Z
total_token_estimate: 3050
