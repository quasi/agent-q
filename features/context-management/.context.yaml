# Context Manifest for context-management
# Auto-generated by canon-check on 2026-01-21
# Version: 0.5.0

feature: context-management
canon_version: 0.5.0
status: complete
confidence: 0.95

# Summary: What this feature does
summary: |
  Code snippet accumulation with sliding window context manager.
  Allows users to mark code regions in Emacs for inclusion in LLM prompts.
  Implements 50-item FIFO queue with automatic formatting for LLM consumption.
  Foundation for all context-related features (Phase 1).

# Essential context: Always load these for basic understanding
essential:
  - path: "core/foundation/vocabulary.md"
    reason: "Domain terms: Context Item, Context Manager"
    sections: ["Context Item", "Context Manager"]
    token_estimate: 400

  - path: "features/context-management/feature.yaml"
    reason: "Feature overview, verification metrics (100% spec adherence)"
    token_estimate: 400

  - path: "features/context-management/contracts/context-item.md"
    reason: "Core contract: context item structure (6 types, metadata)"
    token_estimate: 300

  - path: "features/context-management/contracts/context-manager.md"
    reason: "Core contract: sliding window manager (50-item FIFO)"
    token_estimate: 300

# Per-contract context: Load when working on specific contracts
per_contract:
  context-item:
    - path: "features/context-management/scenarios/add-context-item.md"
      reason: "Primary scenario: adding items to context"
      token_estimate: 200
    - path: "features/context-management/scenarios/context-types.md"
      reason: "Demonstrates all 6 context item types"
      token_estimate: 250

  context-manager:
    - path: "features/context-management/scenarios/sliding-window-overflow.md"
      reason: "Demonstrates FIFO behavior when exceeding 50 items"
      token_estimate: 250
    - path: "features/context-management/scenarios/format-for-llm.md"
      reason: "Shows markdown formatting for LLM consumption"
      token_estimate: 200

# Reference context: Load for deep work or related areas
reference:
  - path: "features/context-management/properties/sliding-window.md"
    reason: "Invariant: 50-item maximum, FIFO eviction"
    token_estimate: 200

  - path: "features/context-management/properties/monotonic-ids.md"
    reason: "Invariant: ctx-1, ctx-2, ... (unique, sequential)"
    token_estimate: 150

  - path: "features/context-management/properties/type-safety.md"
    reason: "Invariant: item-type must be from fixed set"
    token_estimate: 150

# Dependencies: Related features to consider
dependencies:
  - feature: conversation
    reason: "Conversation has-a context-manager"

  - feature: session-management
    reason: "Sessions access context through conversation"

# Metadata
generated: 2026-01-21T14:24:00Z
total_token_estimate: 2800
